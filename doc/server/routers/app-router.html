<!DOCTYPE html><html lang="en"><head><title>server/routers/app-router</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../"><meta name="groc-document-path" content="server/routers/app-router"><meta name="groc-project-path" content="src/server/routers/app-router.js"><link rel="stylesheet" type="text/css" media="all" href="../../assets/style.css"><script type="text/javascript" src="../../assets/behavior.js"></script><body><div id="meta"><div class="file-path">src/server/routers/app-router.js</div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper"><span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>),
    bodyParser = <span class="hljs-built_in">require</span>(<span class="hljs-string">'body-parser'</span>),
    rek = <span class="hljs-built_in">require</span>(<span class="hljs-string">'rekuire'</span>),
    path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);

<span class="hljs-keyword">var</span> settings = rek(<span class="hljs-string">'settings'</span>),
    logger = rek(<span class="hljs-string">'winstonlog'</span>),
    dbHandler = rek(<span class="hljs-string">'db-handler'</span>);

<span class="hljs-keyword">var</span> app = express();</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Задаем путь к ресурсам, который будет использоваться в html файлах  </p></div></div><div class="code"><div class="wrapper">app.use(express.static(path.join(settings.path, <span class="hljs-string">'src/web/public'</span>))); 
app.use(<span class="hljs-string">'/bower_components'</span>,  express.static(path.join(settings.path, <span class="hljs-string">'/bower_components'</span>)));

<span class="hljs-comment">/************************************************************************/</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><pre><code>                         REST API                                </code></pre></div></div><div class="code"><div class="wrapper"><span class="hljs-comment">/************************************************************************/</span>
app.use(bodyParser({ limit: <span class="hljs-string">'5mb'</span> }));
app.use(bodyParser.urlencoded({ extended: <span class="hljs-literal">true</span> }));
app.use(bodyParser.json());

app.get(<span class="hljs-string">'/'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">req, res</span>) </span>{
    logger.info(<span class="hljs-string">'GET App'</span>);
    res.sendFile(path.join(settings.path, <span class="hljs-string">'src/web/public/html/index.html'</span>));
});

app.post(<span class="hljs-string">'/'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) </span>{
    
})

<span class="hljs-built_in">module</span>.exports = app;</div></div></div></div></body></html>